# Интерфейс управления сотрудниками

Интерфейс для управления информацией о сотрудниках отеля.

## Описание

Компонент `Employees.vue` предоставляет полный CRUD функционал для управления сотрудниками отеля, включая создание, редактирование и удаление записей о сотрудниках.

## Расположение

Компонент находится в файле `src/views/Employees.vue`

## Маршрут

- **URL:** `/employees`
- **Маршрут:** `Employees`
- **Мета:** `requiresAuth: true` - доступен только авторизованным пользователям

## Функциональность

### Основные операции

1. **Просмотр списка** - отображение всех сотрудников в таблице
2. **Создание** - добавление нового сотрудника
3. **Редактирование** - изменение существующей записи о сотруднике
4. **Удаление** - удаление записи о сотруднике с подтверждением

### Поля формы

1. **Фамилия (last_name)**
   - Тип: текст
   - Обязательное поле
   - Правила валидации: поле должно быть заполнено

2. **Имя (first_name)**
   - Тип: текст
   - Обязательное поле
   - Правила валидации: поле должно быть заполнено

3. **Отчество (middle_name)**
   - Тип: текст
   - Необязательное поле

4. **Работает (employed)**
   - Тип: boolean (чекбокс)
   - Значение по умолчанию: `true`
   - Определяет, работает ли сотрудник в настоящее время

### Валидация

Форма использует встроенную валидацию Vuetify с правилами:

- `last_name`: проверка наличия значения
- `first_name`: проверка наличия значения

### API Endpoints

**GET** `/api/employees/` - Получение списка сотрудников

**GET** `/api/employees/{id}/` - Получение конкретного сотрудника

**POST** `/api/employees/` - Создание нового сотрудника

**PUT** `/api/employees/{id}/` - Обновление сотрудника

**PATCH** `/api/employees/{id}/` - Частичное обновление сотрудника

**DELETE** `/api/employees/{id}/` - Удаление сотрудника

### Пример запроса создания

```json
{
  "last_name": "Петров",
  "first_name": "Петр",
  "middle_name": "Петрович",
  "employed": true
}
```

### Пример ответа

```json
{
  "id": 1,
  "last_name": "Петров",
  "first_name": "Петр",
  "middle_name": "Петрович",
  "employed": true
}
```

## UI Компоненты

Интерфейс использует следующие компоненты Vuetify:

- `v-container` - контейнер с адаптивной сеткой
- `v-card` - карточка с данными
- `v-data-table` - таблица для отображения данных
- `v-dialog` - модальное окно для формы
- `v-form` - форма с валидацией
- `v-text-field` - текстовые поля ввода
- `v-checkbox` - чекбокс для статуса работы
- `v-chip` - отображение статуса в таблице (Работает/Уволен)
- `v-btn` - кнопки действий
- `v-alert` - отображение ошибок

## Особенности

- Статус сотрудника отображается цветным чипом в таблице (зеленый для работающих, красный для уволенных)
- Уволенные сотрудники не могут быть назначены в график уборки (проверка на сервере)

## Обработка ошибок

Компонент обрабатывает следующие типы ошибок:

- **400 Bad Request**: Ошибки валидации данных
- **401 Unauthorized**: Отсутствие авторизации
- **404 Not Found**: Сотрудник не найден
- **500 Internal Server Error**: Ошибка сервера

Все ошибки отображаются в виде алерта под формой.

