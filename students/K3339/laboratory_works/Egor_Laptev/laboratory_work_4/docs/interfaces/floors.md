# Интерфейс управления этажами

Интерфейс для управления этажами отеля с возможностью просмотра статистики.

## Описание

Компонент `Floors.vue` предоставляет полный CRUD функционал для управления этажами, включая создание, редактирование, удаление и просмотр статистики по каждому этажу.

## Расположение

Компонент находится в файле `src/views/Floors.vue`

## Маршрут

- **URL:** `/floors`
- **Маршрут:** `Floors`
- **Мета:** `requiresAuth: true` - доступен только авторизованным пользователям

## Функциональность

### Основные операции

1. **Просмотр списка** - отображение всех этажей в таблице
2. **Создание** - добавление нового этажа
3. **Редактирование** - изменение существующего этажа
4. **Удаление** - удаление этажа с подтверждением
5. **Статистика** - просмотр статистики по этажам

### Поля формы

1. **Номер этажа (number)**
   - Тип: число
   - Обязательное поле
   - Правила валидации: номер должен быть положительным числом

### Статистика

Интерфейс предоставляет функцию просмотра статистики, которая показывает:

- ID этажа
- Номер этажа
- Количество номеров на этаже
- Количество записей в графике уборки для этажа

### Валидация

Форма использует встроенную валидацию Vuetify с правилами:

- `number`: проверка, что значение является положительным числом

### API Endpoints

**GET** `/api/floors/` - Получение списка этажей

**GET** `/api/floors/{id}/` - Получение конкретного этажа

**POST** `/api/floors/` - Создание нового этажа

**PUT** `/api/floors/{id}/` - Обновление этажа

**PATCH** `/api/floors/{id}/` - Частичное обновление этажа

**DELETE** `/api/floors/{id}/` - Удаление этажа

**GET** `/api/floors/stats/` - Получение статистики по этажам

### Пример запроса создания

```json
{
  "number": 1
}
```

### Пример ответа статистики

```json
[
  {
    "id": 1,
    "number": 1,
    "rooms_count": 15,
    "cleaning_count": 7
  }
]
```

## UI Компоненты

Интерфейс использует следующие компоненты Vuetify:

- `v-container` - контейнер с адаптивной сеткой
- `v-card` - карточка с данными
- `v-data-table` - таблица для отображения данных
- `v-dialog` - модальное окно для формы и статистики
- `v-form` - форма с валидацией
- `v-text-field` - текстовое поле ввода
- `v-btn` - кнопки действий
- `v-alert` - отображение ошибок

## Обработка ошибок

Компонент обрабатывает следующие типы ошибок:

- **400 Bad Request**: Ошибки валидации данных (например, этаж с таким номером уже существует)
- **401 Unauthorized**: Отсутствие авторизации
- **404 Not Found**: Этаж не найден
- **500 Internal Server Error**: Ошибка сервера

Все ошибки отображаются в виде алерта под формой.

