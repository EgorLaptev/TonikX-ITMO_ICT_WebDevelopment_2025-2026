# Интерфейс управления гостями

Интерфейс для управления информацией о гостях отеля.

## Описание

Компонент `Guests.vue` предоставляет полный CRUD функционал для управления гостями отеля, включая создание, редактирование и удаление записей о гостях.

## Расположение

Компонент находится в файле `src/views/Guests.vue`

## Маршрут

- **URL:** `/guests`
- **Маршрут:** `Guests`
- **Мета:** `requiresAuth: true` - доступен только авторизованным пользователям

## Функциональность

### Основные операции

1. **Просмотр списка** - отображение всех гостей в таблице
2. **Создание** - добавление нового гостя
3. **Редактирование** - изменение существующей записи о госте
4. **Удаление** - удаление записи о госте с подтверждением

### Поля формы

1. **Номер паспорта (passport_number)**
   - Тип: текст
   - Обязательное поле
   - Правила валидации: поле должно быть заполнено
   - Уникальное значение

2. **Фамилия (last_name)**
   - Тип: текст
   - Обязательное поле
   - Правила валидации: поле должно быть заполнено

3. **Имя (first_name)**
   - Тип: текст
   - Обязательное поле
   - Правила валидации: поле должно быть заполнено

4. **Отчество (middle_name)**
   - Тип: текст
   - Необязательное поле

5. **Город (city)**
   - Тип: текст
   - Обязательное поле
   - Правила валидации: поле должно быть заполнено

### Валидация

Форма использует встроенную валидацию Vuetify с правилами:

- `passport_number`: проверка наличия значения
- `last_name`: проверка наличия значения
- `first_name`: проверка наличия значения
- `city`: проверка наличия значения

На сервере также выполняется проверка уникальности номера паспорта.

### API Endpoints

**GET** `/api/guests/` - Получение списка гостей

**GET** `/api/guests/{id}/` - Получение конкретного гостя

**POST** `/api/guests/` - Создание нового гостя

**PUT** `/api/guests/{id}/` - Обновление гостя

**PATCH** `/api/guests/{id}/` - Частичное обновление гостя

**DELETE** `/api/guests/{id}/` - Удаление гостя

### Пример запроса создания

```json
{
  "passport_number": "1234 567890",
  "last_name": "Иванов",
  "first_name": "Иван",
  "middle_name": "Иванович",
  "city": "Москва"
}
```

### Пример ответа

```json
{
  "id": 1,
  "passport_number": "1234 567890",
  "last_name": "Иванов",
  "first_name": "Иван",
  "middle_name": "Иванович",
  "city": "Москва"
}
```

## UI Компоненты

Интерфейс использует следующие компоненты Vuetify:

- `v-container` - контейнер с адаптивной сеткой
- `v-card` - карточка с данными
- `v-data-table` - таблица для отображения данных
- `v-dialog` - модальное окно для формы
- `v-form` - форма с валидацией
- `v-text-field` - текстовые поля ввода
- `v-btn` - кнопки действий
- `v-alert` - отображение ошибок

## Обработка ошибок

Компонент обрабатывает следующие типы ошибок:

- **400 Bad Request**: Ошибки валидации данных (например, гость с таким номером паспорта уже существует)
- **401 Unauthorized**: Отсутствие авторизации
- **404 Not Found**: Гость не найден
- **500 Internal Server Error**: Ошибка сервера

Все ошибки отображаются в виде алерта под формой.

