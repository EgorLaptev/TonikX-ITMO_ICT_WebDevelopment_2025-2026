# Интерфейс управления номерами

Интерфейс для управления номерами отеля.

## Описание

Компонент `Rooms.vue` предоставляет полный CRUD функционал для управления номерами отеля, включая создание, редактирование и удаление номеров.

## Расположение

Компонент находится в файле `src/views/Rooms.vue`

## Маршрут

- **URL:** `/rooms`
- **Маршрут:** `Rooms`
- **Мета:** `requiresAuth: true` - доступен только авторизованным пользователям

## Функциональность

### Основные операции

1. **Просмотр списка** - отображение всех номеров в таблице
2. **Создание** - добавление нового номера
3. **Редактирование** - изменение существующего номера
4. **Удаление** - удаление номера с подтверждением

### Поля формы

1. **Номер комнаты (number)**
   - Тип: текст
   - Обязательное поле
   - Правила валидации: поле должно быть заполнено

2. **Телефон (phone)**
   - Тип: текст
   - Необязательное поле

3. **Тип номера (type_id)**
   - Тип: выбор из списка
   - Обязательное поле
   - Правила валидации: должен быть выбран тип номера

4. **Этаж (floor_id)**
   - Тип: выбор из списка
   - Обязательное поле
   - Правила валидации: должен быть выбран этаж

### Валидация

Форма использует встроенную валидацию Vuetify с правилами:

- `number`: проверка наличия значения
- `type_id`: проверка выбора типа номера
- `floor_id`: проверка выбора этажа

На сервере также выполняется проверка уникальности номера комнаты на этаже.

### API Endpoints

**GET** `/api/rooms/` - Получение списка номеров

**GET** `/api/rooms/{id}/` - Получение конкретного номера

**POST** `/api/rooms/` - Создание нового номера

**PUT** `/api/rooms/{id}/` - Обновление номера

**PATCH** `/api/rooms/{id}/` - Частичное обновление номера

**DELETE** `/api/rooms/{id}/` - Удаление номера

### Пример запроса создания

```json
{
  "number": "101",
  "phone": "+7-123-456-7890",
  "type_id": 1,
  "floor_id": 1
}
```

### Пример ответа

```json
{
  "id": 1,
  "number": "101",
  "phone": "+7-123-456-7890",
  "type": {
    "id": 1,
    "name": "Стандарт",
    "capacity": 2,
    "price_per_day": "2500.00"
  },
  "floor": {
    "id": 1,
    "number": 1
  }
}
```

## UI Компоненты

Интерфейс использует следующие компоненты Vuetify:

- `v-container` - контейнер с адаптивной сеткой
- `v-card` - карточка с данными
- `v-data-table` - таблица для отображения данных
- `v-dialog` - модальное окно для формы
- `v-form` - форма с валидацией
- `v-text-field` - текстовые поля ввода
- `v-select` - выпадающие списки для выбора типа и этажа
- `v-btn` - кнопки действий
- `v-alert` - отображение ошибок

## Обработка ошибок

Компонент обрабатывает следующие типы ошибок:

- **400 Bad Request**: Ошибки валидации данных (например, номер уже существует на этаже)
- **401 Unauthorized**: Отсутствие авторизации
- **404 Not Found**: Номер не найден
- **500 Internal Server Error**: Ошибка сервера

Все ошибки отображаются в виде алерта под формой.

