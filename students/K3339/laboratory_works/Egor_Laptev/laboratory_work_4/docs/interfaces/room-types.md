# Интерфейс управления типами номеров

Интерфейс для управления типами номеров отеля с возможностью просмотра статистики.

## Описание

Компонент `RoomTypes.vue` предоставляет полный CRUD функционал для управления типами номеров, включая создание, редактирование, удаление и просмотр статистики по каждому типу.

## Расположение

Компонент находится в файле `src/views/RoomTypes.vue`

## Маршрут

- **URL:** `/room-types`
- **Маршрут:** `RoomTypes`
- **Мета:** `requiresAuth: true` - доступен только авторизованным пользователям

## Функциональность

### Основные операции

1. **Просмотр списка** - отображение всех типов номеров в таблице
2. **Создание** - добавление нового типа номера
3. **Редактирование** - изменение существующего типа номера
4. **Удаление** - удаление типа номера с подтверждением
5. **Статистика** - просмотр статистики по типам номеров

### Поля формы

1. **Название (name)**
   - Тип: текст
   - Обязательное поле
   - Правила валидации: поле должно быть заполнено

2. **Вместимость (capacity)**
   - Тип: число
   - Обязательное поле
   - Правила валидации: значение должно быть больше нуля

3. **Цена за день (price_per_day)**
   - Тип: число (decimal)
   - Обязательное поле
   - Правила валидации: значение должно быть больше нуля

### Статистика

Интерфейс предоставляет функцию просмотра статистики, которая показывает:

- ID типа номера
- Название
- Вместимость
- Цену за день
- Количество номеров данного типа

### Валидация

Форма использует встроенную валидацию Vuetify с правилами:

- `name`: проверка наличия значения
- `capacity`: проверка, что значение больше нуля
- `price_per_day`: проверка, что значение больше нуля

### API Endpoints

**GET** `/api/room-types/` - Получение списка типов номеров

**GET** `/api/room-types/{id}/` - Получение конкретного типа номера

**POST** `/api/room-types/` - Создание нового типа номера

**PUT** `/api/room-types/{id}/` - Обновление типа номера

**PATCH** `/api/room-types/{id}/` - Частичное обновление типа номера

**DELETE** `/api/room-types/{id}/` - Удаление типа номера

**GET** `/api/room-types/stats/` - Получение статистики по типам номеров

### Пример запроса создания

```json
{
  "name": "Стандарт",
  "capacity": 2,
  "price_per_day": "2500.00"
}
```

### Пример ответа статистики

```json
[
  {
    "id": 1,
    "name": "Стандарт",
    "capacity": 2,
    "price_per_day": "2500.00",
    "rooms_count": 10
  }
]
```

## UI Компоненты

Интерфейс использует следующие компоненты Vuetify:

- `v-container` - контейнер с адаптивной сеткой
- `v-card` - карточка с данными
- `v-data-table` - таблица для отображения данных
- `v-dialog` - модальное окно для формы и статистики
- `v-form` - форма с валидацией
- `v-text-field` - текстовые поля ввода
- `v-btn` - кнопки действий
- `v-alert` - отображение ошибок

## Обработка ошибок

Компонент обрабатывает следующие типы ошибок:

- **400 Bad Request**: Ошибки валидации данных
- **401 Unauthorized**: Отсутствие авторизации
- **404 Not Found**: Тип номера не найден
- **500 Internal Server Error**: Ошибка сервера

Все ошибки отображаются в виде алерта под формой.

