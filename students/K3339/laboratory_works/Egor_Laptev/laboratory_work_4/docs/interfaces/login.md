# Интерфейс авторизации

Интерфейс авторизации позволяет существующим пользователям войти в систему, используя свои учетные данные.

## Описание

Компонент `Login.vue` реализует форму входа в систему с валидацией полей и обработкой ошибок. После успешной авторизации пользователь перенаправляется на главную страницу приложения.

## Расположение

Компонент находится в файле `src/views/Login.vue`

## Маршрут

- **URL:** `/login`
- **Маршрут:** `Login`
- **Мета:** `requiresGuest: true` - доступен только неавторизованным пользователям

## Функциональность

### Поля формы

1. **Имя пользователя (username)**
   - Тип: текст
   - Обязательное поле
   - Правила валидации: поле должно быть заполнено

2. **Пароль (password)**
   - Тип: password
   - Обязательное поле
   - Правила валидации: поле должно быть заполнено

### Валидация

Форма использует встроенную валидацию Vuetify с правилами:

- `usernameRules`: проверка наличия значения
- `passwordRules`: проверка наличия значения

### Обработка запроса

При нажатии на кнопку "Войти":

1. Проверяется валидность формы
2. Отправляется POST запрос на `/auth/token/login/` с данными:
   ```json
   {
     "username": "имя_пользователя",
     "password": "пароль"
   }
   ```
3. При успешном ответе:
   - Токен сохраняется в `localStorage` под ключом `auth_token`
   - Пользователь перенаправляется на главную страницу (`/`)
4. При ошибке:
   - Отображается сообщение об ошибке под формой
   - Форма остается на странице входа

### Обработка ошибок

Компонент обрабатывает следующие типы ошибок:

- **400 Bad Request**: Неверные учетные данные
  - Отображается сообщение из `response.data.non_field_errors[0]`
- **Другие ошибки**: Общее сообщение об ошибке

### Пример использования

```vue
<template>
  <Login />
</template>

<script setup>
import Login from '@/views/Login.vue'
</script>
```

### API Endpoint

**POST** `/auth/token/login/`

**Тело запроса:**
```json
{
  "username": "string",
  "password": "string"
}
```

**Успешный ответ (200 OK):**
```json
{
  "auth_token": "9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b"
}
```

**Ошибка (400 Bad Request):**
```json
{
  "non_field_errors": [
    "Unable to log in with provided credentials."
  ]
}
```

## UI Компоненты

Интерфейс использует следующие компоненты Vuetify:

- `v-container` - контейнер с адаптивной сеткой
- `v-card` - карточка с формой
- `v-toolbar` - панель инструментов с заголовком
- `v-form` - форма с валидацией
- `v-text-field` - текстовые поля ввода
- `v-btn` - кнопки действий
- `v-alert` - отображение ошибок и уведомлений

## Навигация

После успешной авторизации пользователь автоматически перенаправляется на главную страницу. Также на странице есть ссылка для перехода к регистрации.

## Безопасность

- Пароль передается через HTTPS (в production)
- Токен хранится в `localStorage` браузера
- При неавторизованном доступе к защищенным маршрутам происходит автоматическое перенаправление на страницу входа



